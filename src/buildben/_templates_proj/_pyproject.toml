# =====================================================================
# === Build backend & settings
# =====================================================================
[build-system]
requires      = ["setuptools>=68", "wheel"]        # or "hatchling", "flit_core", etc.
build-backend = "setuptools.build_meta"

# =====================================================================
# === Project metadata (PEP 621)
# =====================================================================
[project]
name        = "<my_project>"          # < will be replaced by scaffold script
version     = "0.1.0"
description = "Short, one-line summary."
authors     = [{ name = "<github_username>", email = "you@example.com" }]
readme      = "README.md"
license     = { text = "MIT" }
requires-python = ">=3.12"
dependencies = [
    # --- Core packages ------------------
    "ipykernel",
    "ipywidgets",    # < e.g. For loading bars
    # "dotenv",      # < Loads .env files
    "environs",      # < Loads .env files, but better
    "loguru",        # < Logging library
    # --- Pretty Stuff -------------------
    "tabulate",      # < Pretty tables
    "tqdm",          # < Progress bars
    "rich",          # < Rich text and beautiful formatting
    # --- Numerical ----------------------
    "numpy",
    "openpyxl",      # < Opens excel files
    "pandas",
    # --- Plotting -----------------------
    # "matplotlib",
    # "seaborn",
    # "plotastic",
    # "scipy",
    # --- Machine learning --------------
    # "scikit-learn",
    # "tiktoken",
    # "openai",
    # "torch",
]


# =====================================================================
# === Extra Dependencies
# =====================================================================

[dependency-groups]
### pip install -e .[dev]
dev = [
    # --- Testing ----------------------
    "pytest>=8.2",
    # "pytest-xdist",     # < Multi-core testing
    # "pytest-cov",       # < Code-Coverage
    # --- Linting / formatting ---------
    # "black>=25.1",
    # "ruff>=0.4",
    # "mypy>=1.10",
    # --- Plotting -----------------------
    "matplotlib",
    "seaborn",
    # "plotastic",
    # "scipy",
    # --- IO ----------------------------
    "jupytext",      # < Jupyter Notebook export
    "dill",          # < Extended pickle for complex objects
    # "sacred",        # < Experiment management
    # ---Example Data --------------
    # "neddata @ git+https://github.com/HisQu/neddata.git",
]

# =====================================================================
# === Packaging
# =====================================================================

# === Define import paths to packages =======
# !! Best practice: ONE import package with same name as project!
[tool.setuptools]
package-dir = { "" = "src"}

# > Autodiscovery:
[tool.setuptools.packages.find]
where = ["src"]                       # < Scan only src/ for packages
# namespaces = false                     # < Implicit namespace packages ok


# === Include non-py files *inside* the package =======
[tool.setuptools.package-data]
"*" = [
    "data/**/*.xlsx",         # src/<my_project>/data/
    "images/**/*.{png,jpg}",  # src/<my_project>/images/
    ]

# === Include data *outside* the package (e.g. top-level docs/) ====
# > Installs into <sys.prefix>/share/<my_project>
# !! Requires a MANIFEST.in! 
# TODO: Find solution to get rid of MANIFEST.in (hatchling..?)
# [tool.setuptools.data-files]
# "share/<my_project>/experiments" = ["experiments/*.ipynb"]
# "share/<my_project>/examples" = ["examples/*.ipynb"]
# "share/<my_project>/config"   = ["config/*.ini"]


# =====================================================================
# === Terminal entry points
# =====================================================================

# [project.scripts]
# <my_project> = "<my_project>.cli:main" # !! No template yet for cli.py


# =====================================================================
# === Tool configurations
# =====================================================================

# Black code-formatter defaults
[tool.black]
line-length = 88
target-version = ["py312"]
exclude = '''
/(
    \.venv
  | venv
  | \.direnv
  | build
  | dist
)/
'''

# Ruff (linter) â€“ keep rules in sync with Black
[tool.ruff]
line-length = 88
unsafe-fixes = true

# Pytest configration (This replaces `pytest.ini`)
[tool.pytest.ini_options]
# addopts = "-ra -q"   # < run tests quietly, show only errors and warnings
testpaths = ["tests"]

# ===========================
# End of file
# ===========================
